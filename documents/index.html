<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><p><a href="https://www.npmjs.com/package/jstrings-localization"><img src="https://img.shields.io/npm/v/jstrings-localization.svg" alt="NPM version"></a> <a href="https://www.npmjs.com/package/jstrings-localization"><img src="https://img.shields.io/npm/dm/jstrings-localization.svg" alt="Downloads"></a> <a href="https://travis-ci.org/guitarneck/jstrings-localization"><img src="https://img.shields.io/travis/guitarneck/jstrings-localization.svg?label=travis-ci" alt="Build Status"></a>
<a href="https://coveralls.io/github/guitarneck/jstrings-localization?branch=master"><img src="https://coveralls.io/repos/github/guitarneck/jstrings-localization/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://david-dm.org/guitarneck/jstrings-localization"><img src="https://david-dm.org/guitarneck/jstrings-localization/status.svg" alt="dependencies"></a>
<a href="https://david-dm.org/guitarneck/jstrings-localization?type=dev"><img src="https://david-dm.org/guitarneck/jstrings-localization/dev-status.svg" alt="dev dependencies"></a></p>
<h1>JStrings Localization</h1><p>A javascript singleton Localization for both Node.js and Web browsers.
The localised files are based on <a href="#about-jsctrings">JStrings</a> format.</p>
<h1>Table of Contents</h1><ul>
<li><a href="#install">Install</a></li>
<li><a href="#about-jsctrings">About JStrings</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#With-node.js">With Node.js</a></li>
<li><a href="#in-a-browser">In a browser</a></li>
</ul>
</li>
<li><a href="#localization-class">Localization class</a><ul>
<li><a href="#fields">Fields</a></li>
<li><a href="#methods">Methods</a></li>
</ul>
</li>
<li><a href="#string-prototype">String prototype</a></li>
<li><a href="#license">License</a></li>
</ul>
<h1>Install</h1><pre class="prettyprint source lang-bash"><code>$ npm i -D jstrings-localization</code></pre><p>Or:</p>
<pre class="prettyprint source lang-bash"><code>$ npm install --save-dev jstrings-localization</code></pre><h1>About JStrings</h1><p><strong>JStrings</strong> are an extension of the <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/LoadingResources/Strings/Strings.html">String Resources</a>
format used inside Apple developments.
This format is usefull during localisation process, human readable, and easy to shared.
The <em>Apple Strings Resources</em> is in text format and contains pairs of key-value that are <code>strings</code>.
Comments can be sets inside the text file.</p>
<pre class="prettyprint source lang-bash"><code>/* A one line comment */
&quot;My first key&quot;=&quot;My first value&quot;;

/*
 *  A multi-lines comment
 *
 */
&quot;My second key&quot;=&quot;My second value&quot;;</code></pre><blockquote>
<p>The file format is very simple !</p>
</blockquote>
<p>Composed with the filename itself, followed by optinals underscore and ISO code,
terminated by the extension.</p>
<pre class="prettyprint source lang-bash"><code>filename[_iso].extension

// Default file
common.jstrings.txt
// English localised file
common_en.jstrings.txt
// French localised file
common_fr.jstrings.txt
...etc</code></pre><blockquote>
<p>ISO code's format and extensions are whatever you'd like <em>(See : ISO 639)</em>.</p>
<p>The default file is used when no localised file according to a code were found.</p>
</blockquote>
<p>The <strong>JStrings</strong> introduces multi-lines values.
It used a specifics values format, surrounded by brackets.
The output result will be joined by a newline.</p>
<pre class="prettyprint source lang-bash"><code>/* A multi-lines values */
&quot;My 1st line...&quot;=[&quot;My 1st line&quot;,&quot;followed by a 2nd line&quot;,&quot;&quot;,&quot;Ended by a 4th line&quot;];</code></pre><p>It's up to you to define the key you'd like to use.
It must be unique along the files you're using.
Best practive is to be verbose in your code.</p>
<p>You'd like to add some variables in your string, for example, like this :</p>
<pre class="prettyprint source lang-javascript"><code>    &quot;Welcome %1 ! Rock\'n\'Roll !&quot;.localize().replace('%1',user.name);</code></pre><p>There's no specific format for the variables.
You can use any caracters you'd like at your own risk.
By the way, you can combine strings together.</p>
<h1>Usage</h1><h2>With Node.js</h2><pre class="prettyprint source lang-javascript"><code>&quot;use strict&quot;;

const Localization    = require(&quot;Localization&quot;);

const languages       = [&quot;de&quot;,&quot;en&quot;,&quot;es&quot;,&quot;he&quot;,&quot;fr&quot;];
let   lang            = &quot;en&quot;;

Localization.language( languages, lang );

Localization.load(&quot;strings/common.jstrings.txt&quot;);
Localization.load(&quot;strings/myapp.jstrings.txt&quot;);

console.log( &quot;Hello world !&quot;.localize() );</code></pre><h2>In a browser</h2><pre class="prettyprint source lang-html"><code>    &lt;script type=&quot;text/javascript&quot; src=&quot;js/jq/jquery.min.js&quot;>&lt;/script>
    &lt;script type=&quot;text/javascript&quot; src=&quot;js/lib/Localization.cls.js&quot;>&lt;/script>
    &lt;script type=&quot;text/javascript&quot;>
        var languages       = [&quot;de&quot;,&quot;en&quot;,&quot;es&quot;,&quot;he&quot;,&quot;fr&quot;];
        var lang            = &quot;en&quot;;

        var page            = &quot;welcome.html&quot;;

        Localization.language( languages, lang );

        lang = /fr/.test(navigator.language) ? 'fr' : 'en'; //Force 'fr' if ok 
        Localization.localize( lang );

        if( ! Localization.load(&quot;strings/common.jstrings.txt&quot;) )
            console.log(&quot;Localization common FAILED !&quot;);

        if( ! Localization.load(&quot;strings/myapp.jstrings.txt&quot;)  )
            console.log(&quot;Localization myapp  FAILED !&quot;);

        splash( &quot;Hello world !&quot;.localize() );

        $(&quot;#content&quot;).load(&quot;inc/&quot; + page.localize());
    &lt;/script></code></pre><h1>Localization class</h1><p>The implementation of the Localization Class is based on the Singleton.
You don't need to instanciate it.</p>
<h2>Fields</h2><table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">version</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">The class version.</td>
</tr>
<tr>
<td style="text-align:left">preferedLanguage</td>
<td style="text-align:center"><code>array</code></td>
<td style="text-align:left">The languages your application can handel.</td>
</tr>
<tr>
<td style="text-align:left">defaultLanguage</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">Default language used when unmatched user language.</td>
</tr>
<tr>
<td style="text-align:left">currentLanguage</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">The language in use.</td>
</tr>
<tr>
<td style="text-align:left">userLanguage</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">The user language preferences or system language</td>
</tr>
</tbody>
</table>
<blockquote>
<p>You must not sets this values. Use the methods insteed. Keep in mind they are <strong>read only</strong>.</p>
</blockquote>
<h2>Methods</h2><ul>
<li><p><strong>language( preferedLang ,defaultLang )</strong></p>
<p><em>Global settings of the Localization class. You would call it first.</em></p>
<ul>
<li><p>preferedLang</p>
<p>Type: <code>array</code></p>
<p><em>List of the languages your application handle.</em></p>
</li>
<li><p>defaultLang</p>
<p>Type : <code>string</code></p>
<p><em>The default language used when user language's can't match any in the list.</em></p>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><p><strong>localize( lang )</strong></p>
<p><em>Specified the language for the localisation.
Updates also all the files previouly loaded to the specified language.</em></p>
<ul>
<li><p>lang</p>
<p>Type : <code>string</code></p>
<p><em>The language used for the comming localisations. When you changed the code at run time,
keep in mind to refresh your application.</em></p>
<blockquote>
<p><strong>Important ! There is <em>no ordered list</em> of the files. Don't think <em>overwriting</em> !</strong></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><p><strong>load( file )</strong></p>
<p><em>Load a file in path format, according to the localised settings.</em></p>
<ul>
<li><p>file</p>
<p>Type : <code>string</code></p>
<p><em>The path of the file to load. The format must not contains any iso code.</em></p>
</li>
</ul>
</li>
</ul>
<h1>String prototype</h1><ul>
<li><p><strong>localize()</strong></p>
<p><em>Localise the string value or the variable value.
When no corresponding translation is available, the string remains the same.</em></p>
<pre class="prettyprint source lang-javascript"><code>  &quot;localize me&quot;.localize()</code></pre></li>
</ul>
<h1>License</h1><p><a href="./LICENSE">MIT Â© guitarneck</a></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Localization.html">Localization</a></li></ul><h3>Namespaces</h3><ul><li><a href="String.html">String</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Feb 10 2018 11:15:13 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>